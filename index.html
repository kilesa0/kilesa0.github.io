<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>YuGao</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="YuGao">
<meta property="og:url" content="https://gitee.com/kilesa/kilesa/index.html">
<meta property="og:site_name" content="YuGao">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="鱼糕先生">
<meta name="twitter:card" content="summary">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">YuGao</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">主页</a>
        
          <a class="main-nav-link" href="/archives">文章</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://gitee.com/kilesa/kilesa"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-goproxy和go-modules的使用" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/08/06/goproxy%E5%92%8Cgo-modules%E7%9A%84%E4%BD%BF%E7%94%A8/" class="article-date">
  <time class="dt-published" datetime="2020-08-06T06:25:09.000Z" itemprop="datePublished">2020-08-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/08/06/goproxy%E5%92%8Cgo-modules%E7%9A%84%E4%BD%BF%E7%94%A8/">goproxy和go modules的使用</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="开启go-modules"><a href="#开启go-modules" class="headerlink" title="开启go modules"></a>开启go modules</h3><p>Go 1.13 及以上（推荐）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#开启go mod </span></span><br><span class="line">go env -w GO111MODULE=on</span><br><span class="line"><span class="comment">#设置goproxy</span></span><br><span class="line">go env -w GOPROXY=https://goproxy.cn,direct</span><br></pre></td></tr></table></figure>

<h3 id="go-mod初始化"><a href="#go-mod初始化" class="headerlink" title="go mod初始化"></a>go mod初始化</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go mod init 项目名字</span><br></pre></td></tr></table></figure>

<h3 id="Goproxy自动更新依赖"><a href="#Goproxy自动更新依赖" class="headerlink" title="Goproxy自动更新依赖"></a>Goproxy自动更新依赖</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go mod tidy</span><br></pre></td></tr></table></figure>

<h3 id="goland开启go-mod支持"><a href="#goland开启go-mod支持" class="headerlink" title="goland开启go mod支持"></a>goland开启go mod支持</h3><p><img src="http://qemsmy4o4.bkt.clouddn.com/gomod.png" alt="go mod" title="go mod"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://gitee.com/kilesa/kilesa/2020/08/06/goproxy%E5%92%8Cgo-modules%E7%9A%84%E4%BD%BF%E7%94%A8/" data-id="ckdihd865000438wk70h7gzef" data-title="goproxy和go modules的使用" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-python发送邮件" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/08/01/python%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/" class="article-date">
  <time class="dt-published" datetime="2020-08-01T12:41:47.000Z" itemprop="datePublished">2020-08-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/08/01/python%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/">python发送邮件</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>记录一下用python发送QQ邮件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import yagmail</span><br><span class="line"></span><br><span class="line">args=&#123;</span><br><span class="line">    <span class="string">"user"</span>:<span class="string">"xxxxxx@qq.com"</span>,       <span class="comment">#发邮件账号</span></span><br><span class="line">    <span class="string">"password"</span>:<span class="string">"这是授权码"</span>,       <span class="comment">#发件账号对应的密码（QQ使用的是授权码，而不是QQ密码）</span></span><br><span class="line">    <span class="string">"host"</span>:<span class="string">"smtp.qq.com"</span>,         <span class="comment">#邮件账号的SMTP服务器</span></span><br><span class="line">    <span class="string">"port"</span>:<span class="string">"465"</span>                  <span class="comment">#SMTP服务器端口 465</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 收件人列表</span></span><br><span class="line"></span><br><span class="line">emailList=[<span class="string">"xxxxxxxx@xx.com"</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#实例化发送者</span></span><br><span class="line"></span><br><span class="line">email = yagmail.SMTP(**args) <span class="comment">#将参数已字典的形式传入</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用消息发送函数，参数分别是：to=收件人列表，subject 邮件标题，contents 邮件正文，cc 邮件抄送人</span></span><br><span class="line"></span><br><span class="line">email.send(to=emailList,subject=<span class="string">"这里是标题"</span>,contents=<span class="string">"这里是正文"</span>)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://gitee.com/kilesa/kilesa/2020/08/01/python%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/" data-id="ckdihd866000538wkd3jn8j1p" data-title="python发送邮件" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-用python实时获取弹幕和发送弹幕" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/28/%E7%94%A8python%E5%AE%9E%E6%97%B6%E8%8E%B7%E5%8F%96%E5%BC%B9%E5%B9%95%E5%92%8C%E5%8F%91%E9%80%81%E5%BC%B9%E5%B9%95/" class="article-date">
  <time class="dt-published" datetime="2020-07-28T09:47:14.000Z" itemprop="datePublished">2020-07-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/28/%E7%94%A8python%E5%AE%9E%E6%97%B6%E8%8E%B7%E5%8F%96%E5%BC%B9%E5%B9%95%E5%92%8C%E5%8F%91%E9%80%81%E5%BC%B9%E5%B9%95/">用python实时获取弹幕和发送弹幕</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="用python获取弹幕"><a href="#用python获取弹幕" class="headerlink" title="用python获取弹幕"></a>用python获取弹幕</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">import time</span><br><span class="line">import json</span><br><span class="line"></span><br><span class="line"><span class="comment">#弹幕列表API</span></span><br><span class="line">url = <span class="string">"https://api.live.bilibili.com/xlive/web-room/v1/dM/gethistory"</span></span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line"><span class="string">"cookie"</span>: <span class="string">"cookie"</span></span><br><span class="line">&#125; <span class="comment">#用户cookies ，应该同时要验证token和cookie</span></span><br><span class="line"></span><br><span class="line">data = &#123;<span class="string">"roomid"</span>: 271744,  <span class="comment">#房间id</span></span><br><span class="line"><span class="string">"csrf_token"</span>: <span class="string">"token"</span>,</span><br><span class="line"><span class="string">"csrf"</span>: <span class="string">"token"</span>,</span><br><span class="line"><span class="string">"visit_id"</span>: <span class="string">""</span>&#125;</span><br><span class="line"></span><br><span class="line">timeb = 0 <span class="comment">#初始化时间</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> True:  <span class="comment">#保持死循环获取弹幕</span></span><br><span class="line"></span><br><span class="line">    html = requests.post(url, data=data, headers=headers)</span><br><span class="line"></span><br><span class="line">    text = json.loads(html.text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> text[<span class="string">"data"</span>][<span class="string">"room"</span>]:</span><br><span class="line">        <span class="comment"># 先转换为时间数组</span></span><br><span class="line">        timeArray = time.strptime(i[<span class="string">"timeline"</span>], <span class="string">"%Y-%m-%d %H:%M:%S"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 转换为时间戳</span></span><br><span class="line">        timeStamp = int(time.mktime(timeArray))</span><br><span class="line">        <span class="keyword">if</span> timeStamp &gt; timeb:  <span class="comment">#时间戳比对，获取新发布的弹幕</span></span><br><span class="line">            <span class="built_in">print</span>(i[<span class="string">"text"</span>]) <span class="comment">#打印出最新发出的弹幕</span></span><br><span class="line">            timeb = timeStamp</span><br><span class="line">    time.sleep(2)  <span class="comment">#获取一次停留两秒</span></span><br></pre></td></tr></table></figure>

<h2 id="用python发送弹幕"><a href="#用python发送弹幕" class="headerlink" title="用python发送弹幕"></a>用python发送弹幕</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line"><span class="comment">#发送弹幕API</span></span><br><span class="line">url = <span class="string">"https://api.live.bilibili.com/msg/send"</span></span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line"><span class="string">"cookie"</span>: <span class="string">"cookie"</span></span><br><span class="line">&#125; <span class="comment">#用户cookies ，应该同时要验证token和cookie</span></span><br><span class="line"></span><br><span class="line">data = &#123;<span class="string">"color"</span>: 16777215, <span class="comment">#弹幕颜色</span></span><br><span class="line"><span class="string">"fontsize"</span>: 25, <span class="comment">#文字大小</span></span><br><span class="line"><span class="string">"mode"</span>: 1, <span class="comment">#弹幕的模式 (1、普通；4、底端；5、顶端；6、逆向；7、特殊；9、高级)</span></span><br><span class="line"><span class="string">"msg"</span>: <span class="string">"测试"</span>,  <span class="comment">#这是发送内容</span></span><br><span class="line"><span class="string">"rnd"</span>: 1595922575,</span><br><span class="line"><span class="string">"roomid"</span>: 5514899,  <span class="comment">#房间id</span></span><br><span class="line"><span class="string">"bubble"</span>: 0,</span><br><span class="line"><span class="string">"csrf_token"</span>: <span class="string">"token"</span>,  <span class="comment">#用户token</span></span><br><span class="line"><span class="string">"csrf"</span>: <span class="string">"token"</span>&#125;</span><br><span class="line"></span><br><span class="line">html = requests.post(url,data=data,headers=headers)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(html.text)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://gitee.com/kilesa/kilesa/2020/07/28/%E7%94%A8python%E5%AE%9E%E6%97%B6%E8%8E%B7%E5%8F%96%E5%BC%B9%E5%B9%95%E5%92%8C%E5%8F%91%E9%80%81%E5%BC%B9%E5%B9%95/" data-id="ckdihd86n000738wkf5d687os" data-title="用python实时获取弹幕和发送弹幕" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Crontab和Screen的基本使用" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/26/Crontab%E5%92%8CScreen%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/" class="article-date">
  <time class="dt-published" datetime="2020-07-26T14:01:39.000Z" itemprop="datePublished">2020-07-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/26/Crontab%E5%92%8CScreen%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/">Crontab和Screen的基本使用</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Crontab"><a href="#Crontab" class="headerlink" title="Crontab"></a>Crontab</h1><h2 id="1-Crontab-选项"><a href="#1-Crontab-选项" class="headerlink" title="1.Crontab 选项"></a>1.Crontab 选项</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">crontab –e   修改 crontab 文件. 如果文件不存在会自动创建。 </span><br><span class="line">crontab –l   显示 crontab 文件。 </span><br><span class="line">crontab -r   删除 crontab 文件。</span><br><span class="line">crontab -ir  删除 crontab 文件前提醒用户。</span><br></pre></td></tr></table></figure>
<p>ps:一般情况下会写一个sh脚本来执行定时任务</p>
<h2 id="2-Crontab-使用定时"><a href="#2-Crontab-使用定时" class="headerlink" title="2.Crontab 使用定时"></a>2.Crontab 使用定时</h2><table>
<thead>
<tr>
<th align="center">项目</th>
<th align="center">含义</th>
<th align="center">范围</th>
</tr>
</thead>
<tbody><tr>
<td align="center">第一个*</td>
<td align="center">一个小时中的第几分钟</td>
<td align="center">0-59</td>
</tr>
<tr>
<td align="center">第二个*</td>
<td align="center">一天中的第几个小时</td>
<td align="center">0-23</td>
</tr>
<tr>
<td align="center">第三个*</td>
<td align="center">一月中的第几天</td>
<td align="center">1-31</td>
</tr>
<tr>
<td align="center">第四个*</td>
<td align="center">一年中的第几月</td>
<td align="center">1-12</td>
</tr>
<tr>
<td align="center">第五个*</td>
<td align="center">一周中的第几个星期</td>
<td align="center">0和7均表示星期天</td>
</tr>
</tbody></table>
<h2 id="3-Crontab-使用示例"><a href="#3-Crontab-使用示例" class="headerlink" title="3.Crontab 使用示例"></a>3.Crontab 使用示例</h2><p>每分钟执行一次root目录下的qd.sh脚本，并将打印内容输出到qd.txt:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*/1 * * * * /root/qd.sh &gt;&gt; qd.txt</span><br></pre></td></tr></table></figure>
<p>每天0:0执行一次root目录下的qd.sh脚本，并将打印内容输出到qd.txt:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 0 * * * /root/qd.sh &gt;&gt; qd.txt</span><br></pre></td></tr></table></figure>
<h1 id="Screen与Nohup"><a href="#Screen与Nohup" class="headerlink" title="Screen与Nohup"></a>Screen与Nohup</h1><h2 id="1-Screen-选项"><a href="#1-Screen-选项" class="headerlink" title="1.Screen 选项"></a>1.Screen 选项</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">screen -ls               查看现有的画布</span><br><span class="line">screen -r name           进入名为name的画布</span><br><span class="line">screen -S name           创建名为name的画布</span><br><span class="line">screen -S -X name quit   退出并删除名为name的画布</span><br></pre></td></tr></table></figure>
<h2 id="2-nohup-选项"><a href="#2-nohup-选项" class="headerlink" title="2.nohup 选项"></a>2.nohup 选项</h2><p>执行qiandao.sh脚本并将内容打印到nohup.out:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup qiandao.sh</span><br></pre></td></tr></table></figure>
<p>执行qiandao.sh脚本并将内容打印到name.out:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup qiandao.sh &gt;&gt; name.out</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://gitee.com/kilesa/kilesa/2020/07/26/Crontab%E5%92%8CScreen%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/" data-id="ckdihd861000138wk05da860t" data-title="Crontab和Screen的基本使用" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-用python进行dnf论坛签到" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/25/%E7%94%A8python%E8%BF%9B%E8%A1%8Cdnf%E8%AE%BA%E5%9D%9B%E7%AD%BE%E5%88%B0/" class="article-date">
  <time class="dt-published" datetime="2020-07-25T03:11:28.000Z" itemprop="datePublished">2020-07-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/25/%E7%94%A8python%E8%BF%9B%E8%A1%8Cdnf%E8%AE%BA%E5%9D%9B%E7%AD%BE%E5%88%B0/">用python进行dnf论坛签到</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="在centos服务器上从EPEL仓库安装python"><a href="#在centos服务器上从EPEL仓库安装python" class="headerlink" title="在centos服务器上从EPEL仓库安装python"></a>在centos服务器上从EPEL仓库安装python</h2><p>安装最新版本的EPEL:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install epel-release</span><br></pre></td></tr></table></figure>
<p>用yum安装python 3.6:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install python36</span><br></pre></td></tr></table></figure>
<p>注意：上面的安装方法并未安装pip和setuptools，如果你要安装这两个库可以使用下面的命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -O https://bootstrap.pypa.io/get-pip.py</span><br><span class="line">sudo /usr/bin/python3.6 get-pip.py</span><br></pre></td></tr></table></figure>
<p>安装requests库和lxml库:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip3 install requests</span><br><span class="line">pip3 install lxml</span><br></pre></td></tr></table></figure>
<h2 id="用crontab执行定时脚本"><a href="#用crontab执行定时脚本" class="headerlink" title="用crontab执行定时脚本"></a>用crontab执行定时脚本</h2><p>1.新增脚本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vim /root/qiandao.sh</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"--------"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$ttime</span></span><br><span class="line">python3 /root/qiandao.py</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$ttime</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"--------"</span></span><br></pre></td></tr></table></figure>
<p>2.调度任务： crontab -e 然后添加相应的任务：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* 0 * * * /root/qiandao.sh &gt;&gt; /root/qd.txt</span><br></pre></td></tr></table></figure>

<h2 id="签到源代码"><a href="#签到源代码" class="headerlink" title="签到源代码"></a>签到源代码</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">from lxml import etree</span><br><span class="line">import re</span><br><span class="line"></span><br><span class="line">cookies = &#123;<span class="string">"用户cookies"</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#导入cookies</span></span><br><span class="line">html = requests.get(<span class="string">'https://dnf.gamebbs.qq.com/plugin.php?id=k_misign:sign'</span>,</span><br><span class="line">                     cookies=cookies)</span><br><span class="line"><span class="comment">#拿到formhash</span></span><br><span class="line">formhash = etree.HTML(html.text).xpath(<span class="string">'*//a[@class="logout"]/@href'</span>)[0].split(<span class="string">'formhash='</span>)[1]</span><br><span class="line"></span><br><span class="line">qiandaourl = <span class="string">"https://dnf.gamebbs.qq.com/plugin.php?"</span> \</span><br><span class="line">               <span class="string">"id=k_misign:sign&amp;operation=qiandao&amp;formhash=&#123;0&#125;&amp;format=empty"</span>.format(formhash)</span><br><span class="line"></span><br><span class="line">fanhui = requests.get(qiandaourl,cookies=cookies).text</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(formhash)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">'&lt;p&gt;(.*?)&lt;script type="text/javascript"'</span>,fanhui)[0])</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://gitee.com/kilesa/kilesa/2020/07/25/%E7%94%A8python%E8%BF%9B%E8%A1%8Cdnf%E8%AE%BA%E5%9D%9B%E7%AD%BE%E5%88%B0/" data-id="ckdihd866000638wk0yqb0d49" data-title="用python进行dnf论坛签到" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Markdown的基本使用" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/18/Markdown%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/" class="article-date">
  <time class="dt-published" datetime="2020-07-18T05:59:42.000Z" itemprop="datePublished">2020-07-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/18/Markdown%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/">Markdown的基本使用</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="Markdown标题"><a href="#Markdown标题" class="headerlink" title="Markdown标题"></a>Markdown标题</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这是一个一级标题</span></span><br><span class="line"><span class="comment">## 这是一个二级标题</span></span><br><span class="line">...</span><br><span class="line"><span class="comment">###### 这是一个六级标题</span></span><br></pre></td></tr></table></figure>
<p>ps:hexo中一定要加上空格</p>
<h4 id="另一种写法"><a href="#另一种写法" class="headerlink" title="另一种写法:"></a>另一种写法:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">这是一个一级标题     注：在正文下写一个=号是一级标题</span><br><span class="line">=</span><br><span class="line">这是一个二级标题     注：在正文下写一个-号是二级标题</span><br><span class="line">-</span><br><span class="line">这个方法只能有二级标题</span><br></pre></td></tr></table></figure>

<h3 id="Markdown正文"><a href="#Markdown正文" class="headerlink" title="Markdown正文"></a>Markdown正文</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这是一段正文 正文不需要任何修饰，直接输入就可以</span><br></pre></td></tr></table></figure>

<h3 id="Markdown特殊字体"><a href="#Markdown特殊字体" class="headerlink" title="Markdown特殊字体"></a>Markdown特殊字体</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*这是一个斜体*</span><br><span class="line">**这是一个粗体**</span><br><span class="line">***这是一个粗斜体***   不能加空格</span><br></pre></td></tr></table></figure>
<p><em>这是一个斜体</em><br><strong>这是一个粗体</strong><br><strong><em>这是一个粗斜体</em></strong></p>
<h3 id="Markdown超链接"><a href="#Markdown超链接" class="headerlink" title="Markdown超链接"></a>Markdown超链接</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[这是超链接的名字](这是超链接的地址 <span class="string">"这是链接的title，可空"</span>)</span><br><span class="line">&lt;这是超链接的地址,直接生成&gt;</span><br><span class="line">没有逗号</span><br></pre></td></tr></table></figure>
<p><a href="https://www.bilibili.com/" target="_blank" rel="noopener" title="这是B站">哔哩哔哩</a><br><a href="https://www.bilibili.com/" target="_blank" rel="noopener">https://www.bilibili.com/</a></p>
<h3 id="Markdown图片链接"><a href="#Markdown图片链接" class="headerlink" title="Markdown图片链接"></a>Markdown图片链接</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![这是图片的名称,可空](这是图片的地址(可以填本地路径) <span class="string">"这是图片的title，可空"</span>)</span><br><span class="line">可以使用免费的七牛云图床</span><br><span class="line">没有逗号</span><br></pre></td></tr></table></figure>
<p><img src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=1906469856,4113625838&fm=26&gp=0.jpg" alt="图片" title="图片名字"></p>
<h3 id="Markdown的脚注"><a href="#Markdown的脚注" class="headerlink" title="Markdown的脚注"></a>Markdown的脚注</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">待解释[^变量]</span><br><span class="line">[^变量]:这是一个脚注</span><br></pre></td></tr></table></figure>

<h3 id="Markdown引用"><a href="#Markdown引用" class="headerlink" title="Markdown引用"></a>Markdown引用</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;这是第一层</span><br><span class="line">&gt;&gt;这是第二层</span><br><span class="line">&gt;&gt;&gt;这是第三层</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这是第一层</p>
<blockquote>
<p>这是第二层</p>
<blockquote>
<p>这是第三层</p>
</blockquote>
</blockquote>
</blockquote>
<h3 id="Markdown的代码区块"><a href="#Markdown的代码区块" class="headerlink" title="Markdown的代码区块"></a>Markdown的代码区块</h3><pre><code>这是一个代码区块,四个空格,没有序列,hexo用这种方法没有序列号</code></pre><h3 id="Markdown的无序列表"><a href="#Markdown的无序列表" class="headerlink" title="Markdown的无序列表"></a>Markdown的无序列表</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">+ 这是一个无序列表</span><br><span class="line"> + 这也是一个无序列表</span><br><span class="line"> 需要空格,+ - * 都可以生成无序列表</span><br><span class="line"> 通过空格控制列表的级层</span><br></pre></td></tr></table></figure>
<ul>
<li>这是一个无序列表<ul>
<li>这也是一个无序列表</li>
</ul>
</li>
</ul>
<h3 id="Markdown的表格"><a href="#Markdown的表格" class="headerlink" title="Markdown的表格"></a>Markdown的表格</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">第二行至少要三个 - 号 在这个位置那边有：号这一列的内容就朝那边对其,两边都有就居中</span><br><span class="line"></span><br><span class="line">表头|表头|表头</span><br><span class="line">:---:|:---:|:---:</span><br><span class="line">内容|内容|内容 <span class="comment">#两侧的管道符可以不打</span></span><br><span class="line">内容|内容|内容</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center">表头</th>
<th align="center">表头</th>
<th align="center">表头</th>
</tr>
</thead>
<tbody><tr>
<td align="center">内容</td>
<td align="center">内容</td>
<td align="center">内容</td>
</tr>
<tr>
<td align="center">内容</td>
<td align="center">内容</td>
<td align="center">内容</td>
</tr>
</tbody></table>
<h3 id="Markdown的排版"><a href="#Markdown的排版" class="headerlink" title="Markdown的排版"></a>Markdown的排版</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">两个空格加回车才是真正的换行</span><br><span class="line"></span><br><span class="line">&amp;emsp;可以占一个中文字符</span><br><span class="line"></span><br><span class="line">&amp;ensp;可以占半个中文字符</span><br><span class="line"></span><br><span class="line">&amp;nbsp;可以占四分之一中文字符</span><br><span class="line"></span><br><span class="line">Markdown可以使用一部分html标签</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://gitee.com/kilesa/kilesa/2020/07/18/Markdown%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/" data-id="ckdihd85w000038wk6dayhrkq" data-title="Markdown的基本使用" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-npm的安装" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/18/npm%E7%9A%84%E5%AE%89%E8%A3%85/" class="article-date">
  <time class="dt-published" datetime="2020-07-18T03:21:43.000Z" itemprop="datePublished">2020-07-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/18/npm%E7%9A%84%E5%AE%89%E8%A3%85/">npm的安装</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Windows下的安装"><a href="#Windows下的安装" class="headerlink" title="Windows下的安装"></a>Windows下的安装</h2><h3 id="官方下载地址"><a href="#官方下载地址" class="headerlink" title="官方下载地址"></a><a href="https://nodejs.org/en/" target="_blank" rel="noopener">官方下载地址</a></h3><p>下载之后直接双击安装即可,安装中记得添加到环境变量。</p>
<h2 id="centos下安装"><a href="#centos下安装" class="headerlink" title="centos下安装"></a>centos下安装</h2><p>1.安装gcc</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc gcc-c++</span><br></pre></td></tr></table></figure>

<p>2.下载node国内镜像</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://npm.taobao.org/mirrors/node/v14.5.0/node-v14.5.0-linux-x64.tar.gz</span><br></pre></td></tr></table></figure>

<p>3.解压并重命名文件夹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf  node-v14.5.0-linux-x64.tar.gz</span><br><span class="line">mv node-v14.5.0-linux-x64.tar.gz node</span><br></pre></td></tr></table></figure>

<p>4.添加环境变量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br></pre></td></tr></table></figure>

<p>在文件最后添加以下配置：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> NODE_HOME=你node的位置</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$NODE_HOME</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>

<p>5.刷新配置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>

<p>5.验证结果</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://gitee.com/kilesa/kilesa/2020/07/18/npm%E7%9A%84%E5%AE%89%E8%A3%85/" data-id="ckdihd864000338wk77lmbr0n" data-title="npm的安装" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hexo的基本使用" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/17/hexo%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/" class="article-date">
  <time class="dt-published" datetime="2020-07-17T13:21:43.000Z" itemprop="datePublished">2020-07-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/17/hexo%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/">Hexo的基本使用</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="hexo的安装"><a href="#hexo的安装" class="headerlink" title="hexo的安装"></a>hexo的安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure>

<h3 id="创建新文章"><a href="#创建新文章" class="headerlink" title="创建新文章"></a>创建新文章</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">"文章的标题"</span> 简写 hexo n <span class="string">"文章的标题"</span></span><br></pre></td></tr></table></figure>


<h3 id="启动hexo"><a href="#启动hexo" class="headerlink" title="启动hexo"></a>启动hexo</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server 简写 hexo s</span><br></pre></td></tr></table></figure>


<h3 id="编译成静态文件"><a href="#编译成静态文件" class="headerlink" title="编译成静态文件"></a>编译成静态文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo generate 简写 hexo g</span><br></pre></td></tr></table></figure>


<h3 id="快速部署"><a href="#快速部署" class="headerlink" title="快速部署"></a>快速部署</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy 简写 hexo d</span><br></pre></td></tr></table></figure>

<h3 id="快速清除，编译，部署"><a href="#快速清除，编译，部署" class="headerlink" title="快速清除，编译，部署"></a>快速清除，编译，部署</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://gitee.com/kilesa/kilesa/2020/07/17/hexo%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/" data-id="ckdihd863000238wkdybxcrv6" data-title="Hexo的基本使用" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/08/06/goproxy%E5%92%8Cgo-modules%E7%9A%84%E4%BD%BF%E7%94%A8/">goproxy和go modules的使用</a>
          </li>
        
          <li>
            <a href="/2020/08/01/python%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6/">python发送邮件</a>
          </li>
        
          <li>
            <a href="/2020/07/28/%E7%94%A8python%E5%AE%9E%E6%97%B6%E8%8E%B7%E5%8F%96%E5%BC%B9%E5%B9%95%E5%92%8C%E5%8F%91%E9%80%81%E5%BC%B9%E5%B9%95/">用python实时获取弹幕和发送弹幕</a>
          </li>
        
          <li>
            <a href="/2020/07/26/Crontab%E5%92%8CScreen%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/">Crontab和Screen的基本使用</a>
          </li>
        
          <li>
            <a href="/2020/07/25/%E7%94%A8python%E8%BF%9B%E8%A1%8Cdnf%E8%AE%BA%E5%9D%9B%E7%AD%BE%E5%88%B0/">用python进行dnf论坛签到</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 鱼糕先生<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">主页</a>
  
    <a href="/archives" class="mobile-nav-link">文章</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>